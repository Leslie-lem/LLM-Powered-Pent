package ai.pentest.ui;

import javax.swing.*;
import javax.swing.border.Border;
import javax.swing.border.CompoundBorder;
import javax.swing.border.EmptyBorder;
import javax.swing.border.LineBorder;
import java.awt.*;

/**
 * Utility class for creating styled UI components with consistent theming.
 */
public class StyledComponents {
    
    public static JButton createPrimaryButton(String text) {
        JButton button = new JButton(text);
        button.setFont(UITheme.FONT_BUTTON);
        button.setForeground(Color.WHITE);
        button.setBackground(UITheme.ACCENT_PRIMARY);
        button.setBorderPainted(false);
        button.setFocusPainted(false);
        button.setCursor(new Cursor(Cursor.HAND_CURSOR));
        button.setPreferredSize(new Dimension(120, 35));
        
        // Hover effect
        button.addMouseListener(new java.awt.event.MouseAdapter() {
            @Override
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                button.setBackground(UITheme.ACCENT_PRIMARY.brighter());
            }
            @Override
            public void mouseExited(java.awt.event.MouseEvent evt) {
                button.setBackground(UITheme.ACCENT_PRIMARY);
            }
        });
        
        return button;
    }
    
    public static JButton createDangerButton(String text) {
        JButton button = new JButton(text);
        button.setFont(UITheme.FONT_BUTTON);
        button.setForeground(Color.WHITE);
        button.setBackground(UITheme.ACCENT_DANGER);
        button.setBorderPainted(false);
        button.setFocusPainted(false);
        button.setCursor(new Cursor(Cursor.HAND_CURSOR));
        button.setPreferredSize(new Dimension(150, 35));
        
        button.addMouseListener(new java.awt.event.MouseAdapter() {
            @Override
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                button.setBackground(UITheme.ACCENT_DANGER.brighter());
            }
            @Override
            public void mouseExited(java.awt.event.MouseEvent evt) {
                button.setBackground(UITheme.ACCENT_DANGER);
            }
        });
        
        return button;
    }
    
    public static JTextField createStyledTextField(int columns) {
        JTextField field = new JTextField(columns);
        field.setFont(UITheme.FONT_BODY);
        field.setForeground(UITheme.TEXT_PRIMARY);
        field.setBackground(UITheme.BACKGROUND_CARD);
        field.setBorder(createInputBorder());
        field.setCaretColor(UITheme.ACCENT_PRIMARY);
        return field;
    }
    
    public static JComboBox<String> createStyledComboBox(String[] items) {
        JComboBox<String> combo = new JComboBox<>(items);
        combo.setFont(UITheme.FONT_BODY);
        combo.setForeground(UITheme.TEXT_PRIMARY);
        combo.setBackground(UITheme.BACKGROUND_CARD);
        combo.setBorder(createInputBorder());
        return combo;
    }
    
    public static JSpinner createStyledSpinner(SpinnerModel model) {
        JSpinner spinner = new JSpinner(model);
        spinner.setFont(UITheme.FONT_BODY);
        spinner.setForeground(UITheme.TEXT_PRIMARY);
        spinner.setBackground(UITheme.BACKGROUND_CARD);
        
        // Style the editor
        JComponent editor = spinner.getEditor();
        if (editor instanceof JSpinner.DefaultEditor) {
            JTextField textField = ((JSpinner.DefaultEditor) editor).getTextField();
            textField.setBackground(UITheme.BACKGROUND_CARD);
            textField.setForeground(UITheme.TEXT_PRIMARY);
            textField.setBorder(createInputBorder());
            textField.setCaretColor(UITheme.ACCENT_PRIMARY);
        }
        
        return spinner;
    }
    
    public static JCheckBox createStyledCheckBox(String text) {
        JCheckBox checkBox = new JCheckBox(text);
        checkBox.setFont(UITheme.FONT_BODY);
        checkBox.setForeground(UITheme.TEXT_PRIMARY);
        checkBox.setBackground(UITheme.BACKGROUND_PRIMARY);
        checkBox.setFocusPainted(false);
        return checkBox;
    }
    
    public static JTextArea createStyledTextArea() {
        JTextArea area = new JTextArea();
        area.setFont(UITheme.FONT_BODY);
        area.setForeground(UITheme.TEXT_SECONDARY);
        area.setBackground(UITheme.BACKGROUND_CARD);
        area.setBorder(createCardBorder());
        area.setLineWrap(true);
        area.setWrapStyleWord(true);
        area.setEditable(false);
        return area;
    }
    
    public static JLabel createHeadingLabel(String text) {
        JLabel label = new JLabel(text);
        label.setFont(UITheme.FONT_HEADING);
        label.setForeground(UITheme.TEXT_PRIMARY);
        return label;
    }
    
    public static JLabel createSubheadingLabel(String text) {
        JLabel label = new JLabel(text);
        label.setFont(UITheme.FONT_SUBHEADING);
        label.setForeground(UITheme.ACCENT_PRIMARY);
        return label;
    }
    
    public static JLabel createBodyLabel(String text) {
        JLabel label = new JLabel(text);
        label.setFont(UITheme.FONT_BODY);
        label.setForeground(UITheme.TEXT_PRIMARY);
        return label;
    }
    
    public static JPanel createCardPanel() {
        JPanel card = new JPanel();
        card.setBackground(UITheme.BACKGROUND_CARD);
        card.setBorder(createCardBorder());
        return card;
    }
    
    public static Border createCardBorder() {
        return new CompoundBorder(
            new LineBorder(UITheme.BORDER_COLOR, 1, true),
            new EmptyBorder(UITheme.PADDING_MEDIUM, UITheme.PADDING_MEDIUM, 
                          UITheme.PADDING_MEDIUM, UITheme.PADDING_MEDIUM)
        );
    }
    
    public static Border createInputBorder() {
        return new CompoundBorder(
            new LineBorder(UITheme.BORDER_COLOR, 1),
            new EmptyBorder(UITheme.PADDING_SMALL, UITheme.PADDING_SMALL, 
                          UITheme.PADDING_SMALL, UITheme.PADDING_SMALL)
        );
    }
    
    public static JScrollPane createStyledScrollPane(Component view) {
        JScrollPane scrollPane = new JScrollPane(view);
        scrollPane.setBorder(null);
        scrollPane.getViewport().setBackground(UITheme.BACKGROUND_CARD);
        scrollPane.setBackground(UITheme.BACKGROUND_PRIMARY);
        
        // Style scrollbar
        scrollPane.getVerticalScrollBar().setBackground(UITheme.BACKGROUND_SECONDARY);
        scrollPane.getVerticalScrollBar().setForeground(UITheme.ACCENT_PRIMARY);
        scrollPane.getHorizontalScrollBar().setBackground(UITheme.BACKGROUND_SECONDARY);
        scrollPane.getHorizontalScrollBar().setForeground(UITheme.ACCENT_PRIMARY);
        
        return scrollPane;
    }
}

